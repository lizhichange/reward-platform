<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.sms.mapper.ExtEnterpriseInfoMapper">

    <resultMap type="EnterpriseInfo" id="EnterpriseInfoResult">
        <result property="id" column="id"/>
        <result property="enterpriseName" column="enterprise_name"/>
        <result property="accountOpeningDate" column="account_opening_date"/>
        <result property="salesManager" column="sales_manager"/>
        <result property="paymentType" column="payment_type"/>
        <result property="status" column="status"/>
        <result property="remarks" column="remarks"/>
        <result property="enterpriseAccount" column="enterprise_account"/>
        <result property="enterprisePassword" column="enterprise_password"/>
        <result property="sendTheTemplate" column="send_the_template"/>
        <result property="sensitiveWordReview" column="sensitive_word_review"/>
        <result property="gmtCreate" column="gmt_create"/>
        <result property="gmtModified" column="gmt_modified"/>
        <result property="contact" column="contact"/>
        <result property="contactPhone" column="contact_phone"/>
    </resultMap>

    <sql id="selectEnterpriseInfoVo">
        select id, enterprise_name, account_opening_date, sales_manager, payment_type, status, remarks, enterprise_account, enterprise_password, send_the_template, sensitive_word_review, gmt_create, gmt_modified, contact, contact_phone from enterprise_info
    </sql>

    <select id="selectEnterpriseInfoList" parameterType="EnterpriseInfo" resultMap="EnterpriseInfoResult">
        <include refid="selectEnterpriseInfoVo"/>
        <where>
            <if test="enterpriseName != null  and enterpriseName != ''">and enterprise_name like concat('%',
                #{enterpriseName}, '%')
            </if>
            <if test="accountOpeningDate != null ">and account_opening_date = #{accountOpeningDate}</if>
            <if test="salesManager != null  and salesManager != ''">and sales_manager = #{salesManager}</if>
            <if test="paymentType != null  and paymentType != ''">and payment_type = #{paymentType}</if>
            <if test="status != null  and status != ''">and status = #{status}</if>
            <if test="remarks != null  and remarks != ''">and remarks = #{remarks}</if>
            <if test="enterpriseAccount != null  and enterpriseAccount != ''">and enterprise_account =
                #{enterpriseAccount}
            </if>
            <if test="enterprisePassword != null  and enterprisePassword != ''">and enterprise_password =
                #{enterprisePassword}
            </if>
            <if test="sendTheTemplate != null  and sendTheTemplate != ''">and send_the_template = #{sendTheTemplate}
            </if>
            <if test="sensitiveWordReview != null  and sensitiveWordReview != ''">and sensitive_word_review =
                #{sensitiveWordReview}
            </if>
            <if test="gmtCreate != null ">and gmt_create = #{gmtCreate}</if>
            <if test="gmtModified != null ">and gmt_modified = #{gmtModified}</if>
            <if test="contact != null  and contact != ''">and contact = #{contact}</if>
            <if test="contactPhone != null  and contactPhone != ''">and contact_phone = #{contactPhone}</if>
        </where>
    </select>

    <select id="selectEnterpriseInfoById" parameterType="Long" resultMap="EnterpriseInfoResult">
        <include refid="selectEnterpriseInfoVo"/>
        where id = #{id}
    </select>

    <insert id="insertEnterpriseInfo" parameterType="EnterpriseInfo" useGeneratedKeys="true" keyProperty="id">
        insert into enterprise_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="enterpriseName != null  and enterpriseName != ''">enterprise_name,</if>
            <if test="accountOpeningDate != null ">account_opening_date,</if>
            <if test="salesManager != null  and salesManager != ''">sales_manager,</if>
            <if test="paymentType != null  and paymentType != ''">payment_type,</if>
            <if test="status != null  and status != ''">status,</if>
            <if test="remarks != null  and remarks != ''">remarks,</if>
            <if test="enterpriseAccount != null  and enterpriseAccount != ''">enterprise_account,</if>
            <if test="enterprisePassword != null  and enterprisePassword != ''">enterprise_password,</if>
            <if test="sendTheTemplate != null  and sendTheTemplate != ''">send_the_template,</if>
            <if test="sensitiveWordReview != null  and sensitiveWordReview != ''">sensitive_word_review,</if>
            <if test="gmtCreate != null ">gmt_create,</if>
            <if test="gmtModified != null ">gmt_modified,</if>
            <if test="contact != null  and contact != ''">contact,</if>
            <if test="contactPhone != null  and contactPhone != ''">contact_phone,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="enterpriseName != null  and enterpriseName != ''">#{enterpriseName},</if>
            <if test="accountOpeningDate != null ">#{accountOpeningDate},</if>
            <if test="salesManager != null  and salesManager != ''">#{salesManager},</if>
            <if test="paymentType != null  and paymentType != ''">#{paymentType},</if>
            <if test="status != null  and status != ''">#{status},</if>
            <if test="remarks != null  and remarks != ''">#{remarks},</if>
            <if test="enterpriseAccount != null  and enterpriseAccount != ''">#{enterpriseAccount},</if>
            <if test="enterprisePassword != null  and enterprisePassword != ''">#{enterprisePassword},</if>
            <if test="sendTheTemplate != null  and sendTheTemplate != ''">#{sendTheTemplate},</if>
            <if test="sensitiveWordReview != null  and sensitiveWordReview != ''">#{sensitiveWordReview},</if>
            <if test="gmtCreate != null ">#{gmtCreate},</if>
            <if test="gmtModified != null ">#{gmtModified},</if>
            <if test="contact != null  and contact != ''">#{contact},</if>
            <if test="contactPhone != null  and contactPhone != ''">#{contactPhone},</if>
        </trim>
    </insert>

    <update id="updateEnterpriseInfo" parameterType="EnterpriseInfo">
        update enterprise_info
        <trim prefix="SET" suffixOverrides=",">
            <if test="enterpriseName != null  and enterpriseName != ''">enterprise_name = #{enterpriseName},</if>
            <if test="accountOpeningDate != null ">account_opening_date = #{accountOpeningDate},</if>
            <if test="salesManager != null  and salesManager != ''">sales_manager = #{salesManager},</if>
            <if test="paymentType != null  and paymentType != ''">payment_type = #{paymentType},</if>
            <if test="status != null  and status != ''">status = #{status},</if>
            <if test="remarks != null  and remarks != ''">remarks = #{remarks},</if>
            <if test="enterpriseAccount != null  and enterpriseAccount != ''">enterprise_account =
                #{enterpriseAccount},
            </if>
            <if test="enterprisePassword != null  and enterprisePassword != ''">enterprise_password =
                #{enterprisePassword},
            </if>
            <if test="sendTheTemplate != null  and sendTheTemplate != ''">send_the_template = #{sendTheTemplate},</if>
            <if test="sensitiveWordReview != null  and sensitiveWordReview != ''">sensitive_word_review =
                #{sensitiveWordReview},
            </if>
            <if test="gmtCreate != null ">gmt_create = #{gmtCreate},</if>
            <if test="gmtModified != null ">gmt_modified = #{gmtModified},</if>
            <if test="contact != null  and contact != ''">contact = #{contact},</if>
            <if test="contactPhone != null  and contactPhone != ''">contact_phone = #{contactPhone},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteEnterpriseInfoById" parameterType="Long">
        delete from enterprise_info where id = #{id}
    </delete>

    <delete id="deleteEnterpriseInfoByIds" parameterType="String">
        delete from enterprise_info where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

</mapper>