<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>电影</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="高速在线观看，无需下载播放器。">
    <meta name="keywords" content="电影">
    <meta name="generator" content="CMS">
    <link th:href="@{/video/pagination.min.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/video/detail/all-responsive-metal.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/video/jquery.fancybox-metal.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://unpkg.com/mescroll.js@1.4.1/mescroll.min.css">

    <link rel="stylesheet" href="https://cdn.bootcss.com/weui/1.1.3/style/weui.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/jquery-weui/1.2.1/css/jquery-weui.min.css">
    <script src="http://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>

    <script src="https://unpkg.com/mescroll.js@1.4.1/mescroll.min.js" charset="utf-8"></script>

    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>

    <script src="https://cdn.bootcss.com/handlebars.js/4.0.6/handlebars.js"></script>
    <script th:src="@{/video/analytics.js}"></script>
    <script src="https://cdn.bootcss.com/jquery-weui/1.2.1/js/jquery-weui.min.js"></script>

    <style type="text/css">
        .at-icon-wrapper {
            display: inline-block;
            overflow: hidden
        }

        a .at-icon-wrapper {
            cursor: pointer
        }

        .at-rounded,
        .at-rounded-element .at-icon-wrapper {
            border-radius: 12%
        }

        .at-circular,
        .at-circular-element .at-icon-wrapper {
            border-radius: 50%
        }

        .addthis_32x32_style .at-icon {
            width: 2pc;
            height: 2pc
        }

        .addthis_24x24_style .at-icon {
            width: 24px;
            height: 24px
        }

        .addthis_20x20_style .at-icon {
            width: 20px;
            height: 20px
        }

        .addthis_16x16_style .at-icon {
            width: 1pc;
            height: 1pc
        }

        #at16lb {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1001;
            background-color: #000;
            opacity: .001
        }

        #at_complete,
        #at_error,
        #at_share,
        #at_success {
            position: static !important
        }

        .at15dn {
            display: none
        }

        #at15s,
        #at16p,
        #at16p form input,
        #at16p label,
        #at16p textarea,
        #at_share .at_item {
            font-family: arial, helvetica, tahoma, verdana, sans-serif !important;
            font-size: 9pt !important;
            outline-style: none;
            outline-width: 0;
            line-height: 1em
        }

        * html #at15s.mmborder {
            position: absolute !important
        }

        #at15s.mmborder {
            position: fixed !important;
            width: 250px !important
        }

        #at15s a,
        #at15s span {
            outline: 0;
            direction: ltr;
            text-transform: none
        }

        #at15s .at-label {
            margin-left: 5px
        }

        #at15s .at-icon-wrapper {
            width: 1pc;
            height: 1pc;
            vertical-align: middle
        }

        #at15s .at-icon {
            width: 1pc;
            height: 1pc
        }

        .at4-icon {
            display: inline-block;
            background-repeat: no-repeat;
            background-position: top left;
            margin: 0;
            overflow: hidden;
            cursor: pointer
        }

        .addthis_16x16_style .at4-icon,
        .addthis_default_style .at4-icon,
        .at4-icon,
        .at-16x16 {
            width: 1pc;
            height: 1pc;
            line-height: 1pc;
            background-size: 1pc !important
        }

        .addthis_32x32_style .at4-icon,
        .at-32x32 {
            width: 2pc;
            height: 2pc;
            line-height: 2pc;
            background-size: 2pc !important
        }

        .addthis_24x24_style .at4-icon,
        .at-24x24 {
            width: 24px;
            height: 24px;
            line-height: 24px;
            background-size: 24px !important
        }

        .addthis_20x20_style .at4-icon,
        .at-20x20 {
            width: 20px;
            height: 20px;
            line-height: 20px;
            background-size: 20px !important
        }

        .at4-icon.circular,
        .circular .at4-icon,
        .circular.aticon {
            border-radius: 50%
        }

        .at4-icon.rounded,
        .rounded .at4-icon {
            border-radius: 4px
        }

        .at4-icon-left {
            float: left
        }

        #at15s .at4-icon {
            text-indent: 20px;
            padding: 0;
            overflow: visible;
            white-space: nowrap;
            background-size: 1pc;
            width: 1pc;
            height: 1pc;
            background-position: top left;
            display: inline-block;
            line-height: 1pc
        }

        .addthis_vertical_style .at4-icon,
        .at4-follow-container .at4-icon {
            margin-right: 5px
        }

        html>body #at15s {
            width: 250px !important
        }

        #at15s.atm {
            background: none !important;
            padding: 0 !important;
            width: 10pc !important
        }

        #at15s_inner {
            background: #fff;
            border: 1px solid #fff;
            margin: 0
        }

        #at15s_head {
            position: relative;
            background: #f2f2f2;
            padding: 4px;
            cursor: default;
            border-bottom: 1px solid #e5e5e5
        }

        .at15s_head_success {
            background: #cafd99 !important;
            border-bottom: 1px solid #a9d582 !important
        }

        .at15s_head_success a,
        .at15s_head_success span {
            color: #000 !important;
            text-decoration: none
        }

        #at15s_brand,
        #at15sptx,
        #at16_brand {
            position: absolute
        }

        #at15s_brand {
            top: 4px;
            right: 4px
        }

        .at15s_brandx {
            right: 20px !important
        }

        a#at15sptx {
            top: 4px;
            right: 4px;
            text-decoration: none;
            color: #4c4c4c;
            font-weight: 700
        }

        #at15sptx:hover {
            text-decoration: underline
        }

        #at16_brand {
            top: 5px;
            right: 30px;
            cursor: default
        }

        #at_hover {
            padding: 4px
        }

        #at_hover .at_item,
        #at_share .at_item {
            background: #fff !important;
            float: left !important;
            color: #4c4c4c !important
        }

        #at_share .at_item .at-icon-wrapper {
            margin-right: 5px
        }

        #at_hover .at_bold {
            font-weight: 700;
            color: #000 !important
        }

        #at_hover .at_item {
            width: 7pc !important;
            padding: 2px 3px !important;
            margin: 1px;
            text-decoration: none !important
        }

        #at_hover .at_item.athov,
        #at_hover .at_item:focus,
        #at_hover .at_item:hover {
            margin: 0 !important
        }

        #at_hover .at_item.athov,
        #at_hover .at_item:focus,
        #at_hover .at_item:hover,
        #at_share .at_item.athov,
        #at_share .at_item:hover {
            background: #f2f2f2 !important;
            border: 1px solid #e5e5e5;
            color: #000 !important;
            text-decoration: none
        }

        .ipad #at_hover .at_item:focus {
            background: #fff !important;
            border: 1px solid #fff
        }

        .at15t {
            display: block !important;
            height: 1pc !important;
            line-height: 1pc !important;
            padding-left: 20px !important;
            background-position: 0 0;
            text-align: left
        }

        .addthis_button,
        .at15t {
            cursor: pointer
        }

        .addthis_toolbox a.at300b,
        .addthis_toolbox a.at300m {
            width: auto
        }

        .addthis_toolbox a {
            margin-bottom: 5px;
            line-height: initial
        }

        .addthis_toolbox.addthis_vertical_style {
            width: 200px
        }

        .addthis_button_facebook_like .fb_iframe_widget {
            line-height: 100%
        }

        .addthis_toolbox.addthis_vertical_style a {
            display: block
        }

        .addthis_toolbox.addthis_vertical_style.addthis_32x32_style a {
            line-height: 2pc;
            height: 2pc
        }

        .addthis_toolbox.addthis_vertical_style .at300bs {
            margin-right: 4px;
            float: left
        }

        .addthis_toolbox.addthis_20x20_style span {
            line-height: 20px
        }

        .addthis_toolbox.addthis_32x32_style span {
            line-height: 2pc
        }

        .addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact,
        .addthis_toolbox.addthis_pill_combo_style a {
            float: left
        }

        .addthis_toolbox.addthis_pill_combo_style a.addthis_button_tweet {
            margin-top: -2px
        }

        .addthis_toolbox.addthis_pill_combo_style .addthis_button_compact .at15t_compact {
            margin-right: 4px
        }

        .addthis_default_style .addthis_separator {
            margin: 0 5px;
            display: inline
        }

        div.atclear {
            clear: both
        }

        .addthis_default_style .addthis_separator,
        .addthis_default_style .at4-icon,
        .addthis_default_style .at300b,
        .addthis_default_style .at300bo,
        .addthis_default_style .at300bs,
        .addthis_default_style .at300m {
            float: left
        }

        .at300b img,
        .at300bo img {
            border: 0
        }

        a.at300b .at4-icon,
        a.at300m .at4-icon {
            display: block
        }

        .addthis_default_style .at300b,
        .addthis_default_style .at300bo,
        .addthis_default_style .at300m {
            padding: 0 2px
        }


        .addthis_20x20_style .at15t,
        .addthis_20x20_style .at300bs {
            overflow: hidden;
            display: block;
            height: 20px !important;
            width: 20px !important;
            line-height: 20px !important
        }

        #at16pt a,
        #at16pt h4 {
            font-weight: 700
        }

        #at16pt h4 {
            display: inline;
            margin: 0;
            padding: 0;
            font-size: 9pt;
            color: #4c4c4c;
            cursor: default
        }

        #at16pt a {
            position: absolute;
            top: 5px;
            right: 10px;
            color: #4c4c4c;
            text-decoration: none;
            padding: 2px
        }

        #at15s #at16pf a {
            top: 1px
        }

        .atm-s a:focus {
            border: transparent;
            outline: 0;
            transition: none
        }

        #at_hover.atm-s a,
        .atm-s a {
            display: block;
            text-decoration: none;
            padding: 4px 10px;
            color: #235dab !important;
            font-weight: 400;
            font-style: normal;
            transition: none
        }

        #at_hover.atm-s a:hover,
        .atm-s a:hover {
            background: #2095f0;
            text-decoration: none;
            color: #fff !important
        }

        .at-share-tbx-element .fb_iframe_widget span {
            vertical-align: baseline !important
        }

        @media print {

            #at4-follow,
            #at4-share,
            #at4-thankyou,
            #at4-whatsnext,
            #at4m-mobile,
            #at15s,
            .at4,
            .at4-recommended {
                display: none !important
            }
        }

        @media screen and (max-width: 400px) {
            .at4win {
                width: 100%
            }
        }

        @media screen and (max-height: 700px) and (max-width: 400px) {}


        .at-branding-logo span {
            text-decoration: none
        }

        .at-branding-info span {
            border: 0;
            clip: rect(0 0 0 0);
            height: 1px;
            margin: -1px;
            overflow: hidden;
            padding: 0;
            position: absolute;
            width: 1px
        }


        .s1 span {
            text-align: center;
            font-size: 15px;
            font-weight: bold;
            color: #00FF00;
        }

        .s1 span a {
            color: #00FF00
        }

        .load-tip {
            display: none;
            margin: .2rem auto;
            text-align: center;
            font-size: .24rem;
            color: #b9b9b9;
        }

        /*固定高度*/
        .mescroll {
            position: fixed;
            top: 44px;
            bottom: 0;
            height: auto;
            /*如设置bottom:50px,则需height:auto才能生效*/
        }
    </style>

</head>

<body>


    <div class="top-links">
        <div class="center-hold">
            <div class="network">
                <strong></strong>
                <ul>
                </ul>
            </div>
            <div class="box tags-cloud">
                <!-- th:href="@{'/video/category?categoryId='+${item.categoryId}}"   -->
                <a class="highlight" href="/video" style="font-weight: bold; font-size: 13px;">首页</a> &nbsp;&nbsp;
                <a class="highlight category" th:each="item,stat:${categoryList}" th:data="${item.categoryId}"
                    th:style="${(stat.index+1) == stat.size} ?'color: #bfd128;font-weight: bold; font-size: 13px;':'font-weight: bold; font-size: 13px;' "
                    href="javascript:void(0);">[[${item.categoryName}]] &nbsp;&nbsp;
                </a>
                <a class="highlight" href="javascript:void(0);" id="buy"
                    style="font-weight: bold; color: #bfd128; font-size: 13px;">已购</a> &nbsp;&nbsp;

            </div>
            <!--        <div class="member-links">-->
            <!--            <ul>-->
            <!--                <li><a href="/video">首页</a></li>-->
            <!--                <ul th:if="${authMpEnabled==true}">-->
            <!--                    <li th:if="${user?.id}"><a href="/logout">注销</a></li>-->
            <!--                    <li th:unless="${user?.id}"><a href="/login">登录</a></li>-->
            <!--                </ul>-->
            <!--            </ul>-->
            <!--        </div>-->
        </div>
    </div>
    <div class="container">
        <!--    <div class="header">-->
        <!--        <div class="logo">-->
        <!--            <a href="javascript:"></a>-->
        <!--        </div>-->
        <!--        <div class="social-bookmarks">-->
        <!--            <div class="addthis_toolbox addthis_default_style addthis_32x32_style">-->
        <!--                <div class="atclear" tabindex="1000"></div>-->
        <!--            </div>-->
        <!--        </div>-->

        <!--        <div class="search" style="display: none">-->
        <!--            <form id="user-form">-->
        <!--                <span id="search" class="search-button">搜索</span>-->
        <!--                <div class="search-text"><input type="text" name="name" placeholder="请输入搜索关键词,至少两个字符" value=""></div>-->
        <!--            </form>-->
        <!--        </div>-->
        <!--    </div>-->


        <div class="content">
            <div class="main-content">
                <div id="list_videos_most_recent_videos">
                    <div class="box">
                        <div class="list-videos mescroll" id="mescroll">
                            <div class="margin-fix" id="list_videos_most_recent_videos_items">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!--TODO 分页-->
    <input type="hidden" id="categoryId" name="categoryId" th:value="${categoryId}" />

    <script type="text/javascript" charset="utf-8">
        $(function () {
            //创建MeScroll对象
            var mescroll = new MeScroll("mescroll", { //第一个参数"mescroll"对应上面布局结构div的id (1.3.5版本支持传入dom对象)
                //如果您的下拉刷新是重置列表数据,那么down完全可以不用配置,具体用法参考第一个基础案例
                //解析: down.callback默认调用mescroll.resetUpScroll(),而resetUpScroll会将page.num=1,再触发up.callback
                down: {
                    auto: false, //是否在初始化完毕之后自动执行下拉回调callback; 默认true
                    callback: downCallback //下拉刷新的回调,别写成downCallback(),多了括号就自动执行方法了
                },
                up: {
                    auto: true, //是否在初始化时以上拉加载的方式自动加载第一页数据; 默认false
                    isBounce: false, //此处禁止ios回弹,解析(务必认真阅读,特别是最后一点): http://www.mescroll.com/qa.html#q10
                    callback: upCallback, //上拉加载的回调
                    //以下是一些常用的配置,当然不写也可以的.
                    page: {
                        num: 0, //当前页 默认0,回调之前会加1; 即callback(page)会从1开始
                        size: 10 //每页数据条数,默认10
                    },
                    noMoreSize: 5, //如果列表已无数据,可设置列表的总数量要大于5才显示无更多数据;
                    //避免列表数据过少(比如只有一条数据),显示无更多数据会不好看
                    //这就是为什么无更多数据有时候不显示的原因.
                    toTop: {
                        // 回到顶部按钮,需配置src才显示
                        src: "http://www.mescroll.com/img/mescroll-totop.png?v=1", // 图片路径 (建议放入static目录, 如 /static/img/mescroll-totop.png )
                        offset: 1000, // 列表滚动多少距离才显示回到顶部按钮,默认1000px
                    },
                    empty: {
                        //列表第一页无任何数据时,显示的空提示布局; 需配置warpId才显示
                        icon: "http://www.mescroll.com/img/mescroll-empty.png?v=1", // 图标路径 (建议放入static目录, 如 /static/img/mescroll-empty.png )
                        tip: '~暂无相关数据 ~' // 提示
                    }
                }
            });
            //下拉刷新的回调
            function downCallback() {
                $.ajax({
                    dataType: 'json',
                    type: 'post',
                    url: '/video/list',
                    data: {
                        "pageNum": 1,
                        "pageSize": 10,
                    },
                    success: function (data) {
                        if (data && data.code === 0) {
                            //联网成功的回调,隐藏下拉刷新的状态;
                            mescroll.endSuccess(); //无参. 注意结束下拉刷新是无参的
                            //设置数据
                            setListData(data.rows, false);//自行实现 TODO
                        }
                    },
                    error: function (data) {
                        //联网失败的回调,隐藏下拉刷新的状态
                        mescroll.endErr();
                    }
                });
            }
            //上拉加载的回调 page = {num:1, size:10}; num:当前页 默认从1开始, size:每页数据条数,默认10
            function upCallback(page) {
                var pageNum = page.num; // 页码, 默认从1开始 如何修改从0开始 ?
                var pageSize = page.size; // 页长, 默认每页10条
                console.log("page.num=" + page.num + ", page.size=" + page.size);
                $.ajax({
                    dataType: 'json',
                    type: 'post',
                    url: '/video/list',
                    data: {
                        "pageNum": pageNum,
                        "pageSize": pageSize,
                    },
                    success: function (data) {
                        if (data && data.code === 0) {
                            var curPageData = data.rows; // 接口返回的当前页数据列表
                            var totalPage = data.totalPage; // 接口返回的总页数 (比如列表有26个数据,每页10条,共3页; 则totalPage值为3)
                            var totalSize = data.total; // 接口返回的总数据量(比如列表有26个数据,每页10条,共3页; 则totalSize值为26)

                            mescroll.endBySize(curPageData.length, totalSize);

                            //联网成功的回调,隐藏下拉刷新和上拉加载的状态;
                            //mescroll会根据传的参数,自动判断列表如果无任何数据,则提示空,显示empty配置的内容;
                            //列表如果无下一页数据,则提示无更多数据,(注意noMoreSize的配置)

                            //方法一(推荐): 后台接口有返回列表的总页数 totalPage
                            //必传参数(当前页的数据个数, 总页数)
                            //mescroll.endByPage(curPageData.length, totalPage);

                            //方法二(推荐): 后台接口有返回列表的总数据量 totalSize
                            //必传参数(当前页的数据个数, 总数据量)
                            //mescroll.endBySize(curPageData.length, totalSize);

                            //方法三(推荐): 您有其他方式知道是否有下一页 hasNext
                            //必传参数(当前页的数据个数, 是否有下一页true/false)
                            //mescroll.endSuccess(curPageData.length, hasNext);

                            //方法四 (不推荐),会存在一个小问题:比如列表共有20条数据,每页加载10条,共2页.
                            //如果只根据当前页的数据个数判断,则需翻到第三页才会知道无更多数据
                            //如果传了hasNext,则翻到第二页即可显示无更多数据.
                            //mescroll.endSuccess(curPageData.length);

                            //curPageData.length必传的原因:
                            //1. 使配置的noMoreSize 和 empty生效
                            //	2. 判断是否有下一页的首要依据: 
                            //	   当传的值小于page.size时(说明不满页了),则一定会认为无更多数据;
                            //	   比传入的totalPage, totalSize, hasNext具有更高的判断优先级;
                            //	3. 当传的值等于page.size时,才会取totalPage, totalSize, hasNext判断是否有下一页
                            //	传totalPage, totalSize, hasNext目的是避免方法四描述的小问题

                            //设置列表数据
                            setListData(curPageData, true);//自行实现 TODO
                        }
                    },
                    error: function (e) {
                        //联网失败的回调,隐藏下拉刷新和上拉加载的状态
                        mescroll.endErr();
                    }
                });
            }

            /*设置列表数据*/
            function setListData(curPageData, isAppend) {

                var listDom = document.getElementById("list_videos_most_recent_videos_items");
                for (var i = 0; i < curPageData.length; i++) {
                    var newObj = curPageData[i];

                    var str = '<a href="/video/detail?id=' + row.id + '&author=' + row.userid + '" title="' + row.name + '"> '
                        + '    <div class="img">'
                        + '        <img class="thumb lazy-load" src="' + row.url + '"  data-original="' + row.url + '" alt="' + row.name + '" data-cnt="5" width="180" height="135">'
                        + '    </div>'
                        + '    <strong class="title">' + row.name + '</strong>'
                        + '   </a>'
                    var liDom = document.createElement("div");
                    liDom.classList.add("item  ");
                    liDom.innerHTML = str;
                    if (isAppend) {
                        listDom.appendChild(liDom);//加在列表的后面,上拉加载
                    } else {
                        listDom.insertBefore(liDom, listDom.firstChild);//加在列表的前面,下拉刷新
                    }
                }

            }
        });
    </script>
    <script type="text/template" id="newsListTemplate">
        <!--each遍历json数组-->
        {{#each this}}
    <div class="item  ">
        <a href="/video/detail?id={{id}}&author={{userid}}" title="{{name}}">
            <div class="img">
                <img class="thumb lazy-load" src="{{url}}" data-original="{{url}}" alt="{{name}}" data-cnt="5"
                    width="180" height="135">
            </div>
            <strong class="title">
                {{name}}
            </strong>
        </a>
    </div>
    {{/each}}
    </script>


    <script>
        $(function () {
            $("#buy").on('click', function () {
                $.showLoading("数据加载中");
                $.ajax({
                    dataType: 'json',
                    type: 'post',
                    url: '/video/buy',
                    data: {
                        "pageNum": 1,
                        "pageSize": 100
                    },
                    success: function (res) {
                        $.hideLoading();
                        if (res && res.code === 0) {
                            $("#list_videos_most_recent_videos_items").empty();

                            let html = "";
                            $.each(res.rows, function (i, row) {
                                html += ' <div class="item  ">'
                                    + '<a href="/video/detail?id=' + row.id + '&author=' + row.userid + '" title="' + row.name + '"> '
                                    + '    <div class="img">'
                                    + '        <img class="thumb lazy-load" src="' + row.url + '"  data-original="' + row.url + '" alt="' + row.name + '" data-cnt="5" width="180" height="135">'
                                    + '    </div>'
                                    + '    <strong class="title">' + row.name + '</strong>'
                                    // + '    <div class="wrap">'
                                    // + '        <div class="duration">' + row.shijianStr + '</div>'
                                    // + '    </div>'
                                    // + '    <div class="wrap">'
                                    // + '        <div class="added"><em>' + row.diffDays + '</em></div>'
                                    // + '       <div class="views">' + row.click + '</div>'
                                    // + '   </div>'
                                    + '   </a>'
                                    + '   </div>';
                            });
                            $("#list_videos_most_recent_videos_items").html(html);
                        } else {
                            $.hideLoading();
                            $.toast(r.msg);
                        }
                    }
                });
            });

            $(".category").on('click', function () {
                $.showLoading("数据加载中");
                var categoryId = $(this).attr("data");
                var name = $("input[name='name']").val();
                $.ajax({
                    dataType: 'json',
                    type: 'post',
                    url: '/video/list',
                    data: {
                        "name": name,
                        "categoryId": categoryId,
                        "pageNum": 1,
                        "pageSize": 48
                    },
                    success: function (res) {
                        $.hideLoading();
                        if (res && res.code === 0) {
                            $("#list_videos_most_recent_videos_items").empty();
                            let html = "";
                            $.each(res.rows, function (i, row) {
                                html += ' <div class="item  ">'
                                    + '<a href="/video/detail?id=' + row.id + '&author=' + row.userid + '" title="' + row.name + '"> '
                                    + '    <div class="img">'
                                    + '        <img class="thumb lazy-load" src="' + row.url + '"  data-original="' + row.url + '" alt="' + row.name + '" data-cnt="5" width="180" height="135">'
                                    + '    </div>'
                                    + '    <strong class="title">' + row.name + '</strong>'
                                    // + '    <div class="wrap">'
                                    // + '        <div class="duration">' + row.shijianStr + '</div>'
                                    // + '    </div>'
                                    // + '    <div class="wrap">'
                                    // + '        <div class="added"><em>' + row.diffDays + '</em></div>'
                                    // + '       <div class="views">' + row.click + '</div>'
                                    // + '   </div>'
                                    + '   </a>'
                                    + '   </div>';
                            });
                            $("#list_videos_most_recent_videos_items").html(html);
                        } else {
                            $.hideLoading();
                            $.toast(r.msg);
                        }
                    }
                });
            });


            function onBridgeReady() {
                WeixinJSBridge.call('hideOptionMenu');
            }

            if (typeof WeixinJSBridge == "undefined") {
                if (document.addEventListener) {
                    document.addEventListener('WeixinJSBridgeReady', onBridgeReady, false);
                } else if (document.attachEvent) {
                    document.attachEvent('WeixinJSBridgeReady', onBridgeReady);
                    document.attachEvent('onWeixinJSBridgeReady', onBridgeReady);
                }
            } else {
                onBridgeReady();
            }
        });
    </script>

</body>

</html>